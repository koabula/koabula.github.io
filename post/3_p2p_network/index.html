<!doctype html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  
    class="html theme--light"
  
><head>
  <meta charset="utf-8" />
  <title>
    
      
        ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ) |
      Chang

  </title>

  <meta name="generator" content="Hugo 0.143.1"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Chang" />
  <meta
    name="description"
    content="ä¸€åªå­¦å†™ä»£ç çš„ğŸ¨"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.8d4fad7e6916ad2e291e8d97ada157c70350d6d7150fea137e7243340967befb.css"
      integrity="sha256-jU&#43;tfmkWrS4pHo2XraFXxwNQ1tcVD&#43;oTfnJDNAlnvvs="
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css"
    integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.137b1cf3cea9a8adb7884343a9a5ddddf4280f59153f74dc782fb7f7bf0d0519.css"
    integrity="sha256-E3sc886pqK23iENDqaXd3fQoD1kVP3TceC&#43;3978NBRk="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.e65dc5b48fb5f39b142360c57c3a215744c94e56c755c929cc3e88fe12aab4d3.css"
    integrity="sha256-5l3FtI&#43;185sUI2DFfDohV0TJTlbHVckpzD6I/hKqtNM="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.6f4f16d58da1c82c0c3a3436e021a3d39b4742f741192c546e73e947eacfd92f.css"
    integrity="sha256-b08W1Y2hyCwMOjQ24CGj05tHQvdBGSxUbnPpR&#43;rP2S8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.e10425ad768bc98ff1fb272a0ac8420f9d1ba22f0612c08ff1010c95080ffe7e.css"
    integrity="sha256-4QQlrXaLyY/x&#43;ycqCshCD50boi8GEsCP8QEMlQgP/n4="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />

  <link rel="canonical" href="https://koabula.github.io/post/3_p2p_network/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js"
      integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc="
      crossorigin="anonymous"
    ></script>
  

  

  


  
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://koabula.github.io/images/site-feature-image.png">
  <meta name="twitter:title" content="ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ)">
  <meta name="twitter:description" content="P2Pç½‘ç»œ æˆ‘ä»¬å‰é¢è°ˆåˆ°çš„åŒºå—é“¾ä»¿ä½›éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œä½†å®é™…ä¸ŠåŒºå—é“¾æ˜¯ç”±è®¸å¤šèŠ‚ç‚¹ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç½‘ç»œçš„å‚ä¸è€…ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡P2Pè¿›è¡Œé€šä¿¡å’ŒåŒæ­¥ã€‚
åŒºå—é“¾èŠ‚ç‚¹çš„åŠŸèƒ½æœ‰ï¼šå‚¨å­˜æ•°æ®ï¼ŒéªŒè¯äº¤æ˜“ï¼Œå‚ä¸å…±è¯†ï¼Œç½‘ç»œé€šä¿¡ç­‰ è€Œæ ¹æ®åŠŸèƒ½å’Œæƒé™çš„ä¸åŒï¼ŒåŒºå—é“¾èŠ‚ç‚¹ä¹Ÿæœ‰å¾ˆå¤šåˆ†ç±»ï¼Œä¸è¿‡åœ¨è¿™é‡Œæˆ‘ä»¬ç®€åŒ–ä¸ºä¸¤ç±»ï¼šå…¨èŠ‚ç‚¹(Full Node)å’Œè½»èŠ‚ç‚¹(Simple Node)ï¼Œå…¨èŠ‚ç‚¹å‚¨å­˜äº†æ•´ä¸ªåŒºå—ï¼Œè€Œè½»èŠ‚ç‚¹åªå‚¨å­˜äº†æ¯ä¸ªåŒºå—çš„åŒºå—å¤´
ä¸‹é¢æˆ‘ä»¬è®¨è®ºä¸€ä¸‹èŠ‚ç‚¹çš„åˆä½œ
P2Pç½‘ç»œ P2P(Peer to Peer)ç½‘ç»œæ˜¯åŒºå—é“¾çš„åŸºç¡€æ¶æ„,å®ƒå…è®¸èŠ‚ç‚¹ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡,è€Œä¸éœ€è¦ä¸­å¿ƒæœåŠ¡å™¨ã€‚æ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨ä¹Ÿæ˜¯å®¢æˆ·ç«¯,å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹è¯·æ±‚æ•°æ®,ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–èŠ‚ç‚¹æä¾›æ•°æ®ã€‚">



  
  <meta property="og:url" content="https://koabula.github.io/post/3_p2p_network/">
  <meta property="og:site_name" content="My blog">
  <meta property="og:title" content="ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ)">
  <meta property="og:description" content="P2Pç½‘ç»œ æˆ‘ä»¬å‰é¢è°ˆåˆ°çš„åŒºå—é“¾ä»¿ä½›éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œä½†å®é™…ä¸ŠåŒºå—é“¾æ˜¯ç”±è®¸å¤šèŠ‚ç‚¹ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç½‘ç»œçš„å‚ä¸è€…ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡P2Pè¿›è¡Œé€šä¿¡å’ŒåŒæ­¥ã€‚
åŒºå—é“¾èŠ‚ç‚¹çš„åŠŸèƒ½æœ‰ï¼šå‚¨å­˜æ•°æ®ï¼ŒéªŒè¯äº¤æ˜“ï¼Œå‚ä¸å…±è¯†ï¼Œç½‘ç»œé€šä¿¡ç­‰ è€Œæ ¹æ®åŠŸèƒ½å’Œæƒé™çš„ä¸åŒï¼ŒåŒºå—é“¾èŠ‚ç‚¹ä¹Ÿæœ‰å¾ˆå¤šåˆ†ç±»ï¼Œä¸è¿‡åœ¨è¿™é‡Œæˆ‘ä»¬ç®€åŒ–ä¸ºä¸¤ç±»ï¼šå…¨èŠ‚ç‚¹(Full Node)å’Œè½»èŠ‚ç‚¹(Simple Node)ï¼Œå…¨èŠ‚ç‚¹å‚¨å­˜äº†æ•´ä¸ªåŒºå—ï¼Œè€Œè½»èŠ‚ç‚¹åªå‚¨å­˜äº†æ¯ä¸ªåŒºå—çš„åŒºå—å¤´
ä¸‹é¢æˆ‘ä»¬è®¨è®ºä¸€ä¸‹èŠ‚ç‚¹çš„åˆä½œ
P2Pç½‘ç»œ P2P(Peer to Peer)ç½‘ç»œæ˜¯åŒºå—é“¾çš„åŸºç¡€æ¶æ„,å®ƒå…è®¸èŠ‚ç‚¹ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡,è€Œä¸éœ€è¦ä¸­å¿ƒæœåŠ¡å™¨ã€‚æ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨ä¹Ÿæ˜¯å®¢æˆ·ç«¯,å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹è¯·æ±‚æ•°æ®,ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–èŠ‚ç‚¹æä¾›æ•°æ®ã€‚">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-12-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-12-07T00:00:00+00:00">
    <meta property="og:image" content="https://koabula.github.io/images/site-feature-image.png">



  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "post",
        "name": "ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ)",
        "headline": "ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ)",
        "alternativeHeadline": "",
        "description": "
      
        \u003ch2 id=\u0022p2pç½‘ç»œ\u0022\u003eP2Pç½‘ç»œ\u003c\/h2\u003e\n\u003cp\u003eæˆ‘ä»¬å‰é¢è°ˆåˆ°çš„åŒºå—é“¾ä»¿ä½›éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œä½†å®é™…ä¸ŠåŒºå—é“¾æ˜¯ç”±è®¸å¤šèŠ‚ç‚¹ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç½‘ç»œçš„å‚ä¸è€…ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡P2Pè¿›è¡Œé€šä¿¡å’ŒåŒæ­¥ã€‚\u003c\/p\u003e\n\u003cp\u003eåŒºå—é“¾èŠ‚ç‚¹çš„åŠŸèƒ½æœ‰ï¼šå‚¨å­˜æ•°æ®ï¼ŒéªŒè¯äº¤æ˜“ï¼Œå‚ä¸å…±è¯†ï¼Œç½‘ç»œé€šä¿¡ç­‰\nè€Œæ ¹æ®åŠŸèƒ½å’Œæƒé™çš„ä¸åŒï¼ŒåŒºå—é“¾èŠ‚ç‚¹ä¹Ÿæœ‰å¾ˆå¤šåˆ†ç±»ï¼Œä¸è¿‡åœ¨è¿™é‡Œæˆ‘ä»¬ç®€åŒ–ä¸ºä¸¤ç±»ï¼šå…¨èŠ‚ç‚¹(Full Node)å’Œè½»èŠ‚ç‚¹(Simple Node)ï¼Œå…¨èŠ‚ç‚¹å‚¨å­˜äº†æ•´ä¸ªåŒºå—ï¼Œè€Œè½»èŠ‚ç‚¹åªå‚¨å­˜äº†æ¯ä¸ªåŒºå—çš„åŒºå—å¤´\u003c\/p\u003e\n\u003cp\u003eä¸‹é¢æˆ‘ä»¬è®¨è®ºä¸€ä¸‹èŠ‚ç‚¹çš„åˆä½œ\u003c\/p\u003e\n\u003ch3 id=\u0022p2pç½‘ç»œ-1\u0022\u003eP2Pç½‘ç»œ\u003c\/h3\u003e\n\u003cp\u003eP2P(Peer to Peer)ç½‘ç»œæ˜¯åŒºå—é“¾çš„åŸºç¡€æ¶æ„,å®ƒå…è®¸èŠ‚ç‚¹ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡,è€Œä¸éœ€è¦ä¸­å¿ƒæœåŠ¡å™¨ã€‚æ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨ä¹Ÿæ˜¯å®¢æˆ·ç«¯,å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹è¯·æ±‚æ•°æ®,ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–èŠ‚ç‚¹æä¾›æ•°æ®ã€‚\u003c\/p\u003e


      


    ",
        "inLanguage": "en",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/koabula.github.io\/post\/3_p2p_network\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Chang"
        },
        "creator" : {
            "@type": "Person",
            "name": "Chang"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Chang"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Chang"
        },
        "copyrightYear" : "2024",
        "dateCreated": "2024-12-07T00:00:00.00Z",
        "datePublished": "2024-12-07T00:00:00.00Z",
        "dateModified": "2024-12-07T00:00:00.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Chang",
            "url": "https://koabula.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/koabula.github.io\/favicons\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
        
        "https://koabula.github.io/images/site-feature-image.png"


      
      ]

    ,
        "url" : "https:\/\/koabula.github.io\/post\/3_p2p_network\/",
        "wordCount" : "209",
        "genre" : [ 
      
      "blockchain"

    
      
        ,

      
      "web3"

    ],
        "keywords" : [ ]
    }
  </script>


</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/profile.jpg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">Chang</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>ä¸€åªå­¦å†™ä»£ç çš„ğŸ¨</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://www.zhihu.com/people/jiang-nan-san-ren-59"
            target="_blank"
            rel="noopener me"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fa-brands fa-zhihu fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/koabula"
            target="_blank"
            rel="noopener me"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fa-brands fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:koabula@126.com"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fa-solid fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Chang
        2025
      
    </li>
    
      <li class="footer__item">
        <a
          class="link"
          href="/imprint/"
          
          title=""
        >
          imprint
        </a>
      </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-6W03JJK5LC"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-6W03JJK5LC');
        }
      </script></div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/post/"
              
              title=""
              >Posts</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/portfolio/"
              
              title=""
              >Projects</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/about/"
              
              title=""
              >About</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/contact/"
              
              title=""
              >Contact</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
        <li class="nav__list-item">
          <div class="optionswitch">
            <input class="optionswitch__picker" type="checkbox" id="languagepicker" hidden />
            <label class="optionswitch__label" for="languagepicker"
              >EN <i class="fa fa-angle-down" aria-hidden="true"></i
            ></label>
            <div class="optionswitch__triangle"></div>
            <ul class="optionswitch__list">
              
                <li class="optionswitch__list-item">
                  <a href="/cn/post/3_p2p_network/" title="CN"
                    ><span
                      
                      aria-label="CN"
                      >CN</span
                    >
                  </a>
                </li>
              
            </ul>
          </div>
        </li>
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      
        <h1>ä»é›¶å¼€å§‹å†™ä¸€ä¸ªåŒºå—é“¾(ä¸‰ P2Pç½‘ç»œ)</h1>
      
      
        <ul class="post__meta">
          <li class="post__meta-item">
            <em class="fas fa-calendar-day post__meta-icon"></em>
            <span class="post__meta-text"
              >
                
                  7/12/2024
                

              
            </span>
          </li>
          <li class="post__meta-item">
            <em class="fas fa-stopwatch post__meta-icon"></em>
            <span class="post__meta-text">One-minute read</span>
          </li>
        </ul>
      <h2 id="p2pç½‘ç»œ">P2Pç½‘ç»œ</h2>
<p>æˆ‘ä»¬å‰é¢è°ˆåˆ°çš„åŒºå—é“¾ä»¿ä½›éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œä½†å®é™…ä¸ŠåŒºå—é“¾æ˜¯ç”±è®¸å¤šèŠ‚ç‚¹ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç½‘ç»œçš„å‚ä¸è€…ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡P2Pè¿›è¡Œé€šä¿¡å’ŒåŒæ­¥ã€‚</p>
<p>åŒºå—é“¾èŠ‚ç‚¹çš„åŠŸèƒ½æœ‰ï¼šå‚¨å­˜æ•°æ®ï¼ŒéªŒè¯äº¤æ˜“ï¼Œå‚ä¸å…±è¯†ï¼Œç½‘ç»œé€šä¿¡ç­‰
è€Œæ ¹æ®åŠŸèƒ½å’Œæƒé™çš„ä¸åŒï¼ŒåŒºå—é“¾èŠ‚ç‚¹ä¹Ÿæœ‰å¾ˆå¤šåˆ†ç±»ï¼Œä¸è¿‡åœ¨è¿™é‡Œæˆ‘ä»¬ç®€åŒ–ä¸ºä¸¤ç±»ï¼šå…¨èŠ‚ç‚¹(Full Node)å’Œè½»èŠ‚ç‚¹(Simple Node)ï¼Œå…¨èŠ‚ç‚¹å‚¨å­˜äº†æ•´ä¸ªåŒºå—ï¼Œè€Œè½»èŠ‚ç‚¹åªå‚¨å­˜äº†æ¯ä¸ªåŒºå—çš„åŒºå—å¤´</p>
<p>ä¸‹é¢æˆ‘ä»¬è®¨è®ºä¸€ä¸‹èŠ‚ç‚¹çš„åˆä½œ</p>
<h3 id="p2pç½‘ç»œ-1">P2Pç½‘ç»œ</h3>
<p>P2P(Peer to Peer)ç½‘ç»œæ˜¯åŒºå—é“¾çš„åŸºç¡€æ¶æ„,å®ƒå…è®¸èŠ‚ç‚¹ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡,è€Œä¸éœ€è¦ä¸­å¿ƒæœåŠ¡å™¨ã€‚æ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨ä¹Ÿæ˜¯å®¢æˆ·ç«¯,å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹è¯·æ±‚æ•°æ®,ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–èŠ‚ç‚¹æä¾›æ•°æ®ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„åŒºå—é“¾ä¸­ï¼Œæˆ‘ä»¬éœ€è¦èŠ‚ç‚¹ä¹‹é—´äº¤æ¢æ•°æ®ï¼Œå°†æ•°æ®æ‰“åŒ…æˆåŒºå—ç„¶åç»„æˆä¸€æ¡æœ‰å…±è¯†çš„åŒºå—é“¾ã€‚æ‰€ä»¥èŠ‚ç‚¹ä¹‹é—´éœ€è¦æœ‰ç½‘ç»œé€šè®¯,å½“ä¸€ä¸ªæ–°èŠ‚ç‚¹åŠ å…¥ç½‘ç»œæ—¶,å®ƒéœ€è¦:</p>
<ol>
<li>è¿æ¥åˆ°å·²çŸ¥èŠ‚ç‚¹(ç§å­èŠ‚ç‚¹)</li>
<li>ä»è¿™äº›èŠ‚ç‚¹è·å–å…¶ä»–èŠ‚ç‚¹çš„åœ°å€</li>
<li>åŒæ­¥æ•°æ®</li>
</ol>
<blockquote>
<p>ä»€ä¹ˆæ˜¯<strong>ç§å­èŠ‚ç‚¹</strong>ï¼Ÿ</p></blockquote>
<p>ä¸€ä¸ªæ–°èŠ‚ç‚¹æƒ³è¦åŠ å…¥è¿™ä¸ªåŒºå—é“¾ç½‘ç»œï¼Œé¦–å…ˆéœ€è¦å’Œå…¶ä»–èŠ‚ç‚¹å»ºç«‹è¿æ¥ï¼ŒåŒæ­¥å½“å‰çš„åŒºå—é“¾ã€‚é‚£ä¹ˆè¿™ç¬¬ä¸€æ­¥ä¾¿äº§ç”Ÿäº†é—®é¢˜ï¼Œè¦åˆ°å“ªé‡Œå»æ‰¾å…¶ä»–èŠ‚ç‚¹ï¼Ÿ
äºæ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªç½‘ç»œä¸­è®¾ç½®äº†ä¸€ç±»å«åšç§å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„åœ°å€è¢«ç¡¬ç¼–ç åœ¨èŠ‚ç‚¹ä»£ç é‡Œã€‚å½“æ–°èŠ‚ç‚¹èµ·æ­¥æ—¶ä¼šé¦–å…ˆè¿æ¥è¿™äº›ç§å­èŠ‚ç‚¹ï¼Œç„¶åä»å®ƒä»¬é‚£é‡Œè·å–å…¶ä»–èŠ‚ç‚¹çš„åœ°å€</p>
<blockquote>
<p>å¦‚ä½•æ›´æ–°èŠ‚ç‚¹çŠ¶æ€ï¼Ÿ</p></blockquote>
<p>å¦‚æœç½‘ç»œè¿è¡Œä¸­ä¸€ä¸ªèŠ‚ç‚¹ç¦»çº¿äº†ï¼Œæˆ–è€…æ–°åŠ å…¥äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä½•åœ¨å…¶ä»–èŠ‚ç‚¹ä¸­æ›´æ–°å…¶çŠ¶æ€å‘¢ï¼Ÿ
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿ƒè·³æœºåˆ¶ï¼Œè®©èŠ‚ç‚¹æ¯éš”ä¸€æ®µæ—¶é—´å‘æ‰€æœ‰èŠ‚ç‚¹å‘é€ä¸€æ¡ç®€çŸ­çš„ä¿¡æ¯(å¿ƒè·³)ã€‚å¦‚æœæ¥æ”¶åˆ°æ–°èŠ‚ç‚¹çš„å¿ƒè·³å°±å°†å…¶æ·»åŠ åˆ°èŠ‚ç‚¹åˆ—è¡¨ä¸­ï¼Œå¦‚æœä¸€æ®µæ—¶é—´åæ²¡æœ‰æ¥æ”¶åˆ°æŸèŠ‚ç‚¹çš„å¿ƒè·³å°±è§†ä½œè¯¥èŠ‚ç‚¹å·²ç»æ•…éšœæˆ–ç¦»çº¿</p>
<p>ä¸‹é¢æˆ‘ä»¬å®ç°ä¸€ä¸ªå¯ä»¥è¿›è¡Œp2pé€šä¿¡çš„ç®€å•èŠ‚ç‚¹ç½‘ç»œã€‚</p>
<p>æˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸‹æˆ‘ä»¬p2pç½‘ç»œçš„ç»“æ„åº”è¯¥æ€ä¹ˆè®¾è®¡ï¼š(è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œç°å®ä¸­çš„å®ç°ä¸ä¸€å®šæ˜¯è¿™æ ·çš„)</p>
<ol>
<li>èŠ‚ç‚¹å»ºç«‹æ—¶ï¼Œå‘ç¡¬ç¼–ç çš„ç§å­èŠ‚ç‚¹å‘å‡ºåŠ å…¥ç½‘ç»œçš„è¯·æ±‚ã€‚ç§å­èŠ‚ç‚¹å°†æ–°èŠ‚ç‚¹åŠ å…¥åˆ—è¡¨ï¼ŒåŒæ—¶å‘æ‰€æœ‰èŠ‚ç‚¹ä»‹ç»è¿™ä¸ªæ–°èŠ‚ç‚¹</li>
<li>èŠ‚ç‚¹æ”¶åˆ°ä¸€ä¸ªä»‹ç»ä¿¡æ¯åï¼Œå°†å…¶åŠ å…¥èŠ‚ç‚¹åˆ—è¡¨ä¸­ï¼ŒåŒæ—¶å‘è¯¥èŠ‚ç‚¹å‘é€helloæ¶ˆæ¯</li>
<li>æ–°èŠ‚ç‚¹æ¥æ”¶åˆ°helloæ¶ˆæ¯åï¼Œå°†å‘é€æ–¹åŠ å…¥è‡ªå·±çš„èŠ‚ç‚¹åˆ—è¡¨ä¸­ï¼Œè¿™æ ·ä¾¿å®ç°äº†èŠ‚ç‚¹åˆ—è¡¨çš„æ›´æ–°</li>
<li>æ¯éš”ä¸€æ®µæ—¶é—´èŠ‚ç‚¹ä¼šå¹¿æ’­helloæ¶ˆæ¯ï¼Œæ¥æ”¶åˆ°helloæ¶ˆæ¯åèŠ‚ç‚¹è¦å‚¨å­˜å½“å‰æ—¶é—´ï¼Œå¦‚æœé•¿æ—¶é—´æœªæ¥æ”¶åˆ°æŸèŠ‚ç‚¹çš„helloæ¶ˆæ¯åˆ™åœ¨èŠ‚ç‚¹åˆ—è¡¨ä¸­åˆ é™¤</li>
</ol>
<p>ä¸‹é¢æ˜¯å½¢è€Œä¸‹çš„å®ç°</p>
<ol>
<li>æˆ‘ä»¬é¦–å…ˆå»ºç«‹èŠ‚ç‚¹ç±»ï¼Œåˆå§‹åŒ–èŠ‚ç‚¹åœ°å€ã€‚å…¶ä¸­ï¼Œ<code>peers</code>å‚¨å­˜å·²çŸ¥ç½‘ç»œä¸­çš„èŠ‚ç‚¹åœ°å€ï¼Œåˆå§‹åŒ–å¡«å…¥äº†ç§å­èŠ‚ç‚¹ï¼›<code>hello_dict</code>å‚¨å­˜ä¸Šä¸€æ¬¡æ¥æ”¶åˆ°å…¶ä»–èŠ‚ç‚¹helloæ¶ˆæ¯çš„æ—¶é—´ã€‚ä½¿ç”¨<code>send_join</code>å‘ç§å­èŠ‚ç‚¹å‘å‡ºåŠ å…¥ç½‘ç»œçš„è¯·æ±‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">address</span> <span class="o">=</span> <span class="n">ip</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">peers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;127.0.0.1&#34;</span><span class="p">}</span>  <span class="c1"># ç§å­èŠ‚ç‚¹</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">ip</span><span class="p">,</span> <span class="mi">5000</span><span class="p">))</span>    <span class="c1"># ç›‘å¬5000ç«¯å£</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">hello_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">send_join</span><span class="p">()</span>    <span class="c1"># å‘é€åŠ å…¥æ¶ˆæ¯</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">handle_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_connection</span><span class="p">)</span>    <span class="c1"># å¤„ç†è¿æ¥</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">handle_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">helloloop_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">helloloop</span><span class="p">)</span>    <span class="c1"># helloæ¶ˆæ¯æ£€æµ‹</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">helloloop_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">mainloop_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mainloop</span><span class="p">)</span>    <span class="c1"># ä¸»å¾ªç¯</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">mainloop_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span></code></pre></div><ol start="2">
<li>ç„¶åæˆ‘ä»¬å®šä¹‰ä¸€ç³»åˆ—æ¶ˆæ¯ä¼ é€’æ–¹æ³•ï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—çš„é€šä¿¡æ–¹å¼ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">peer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">peer</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">peer</span><span class="p">,</span> <span class="mi">5000</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                    <span class="n">s</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&#34;utf-8&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Failed to send message to </span><span class="si">{</span><span class="n">peer</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">send_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;@DATA</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_hello</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">send_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;@HELLO</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">send_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;@JOIN</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_intro</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">addr</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">send_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;#INTRO</span><span class="si">{</span><span class="n">addr</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ol start="3">
<li>ä¸‹é¢å®šä¹‰<code>handle_connection</code>æ–¹æ³•æ¥æ”¶æ¶ˆæ¯å¹¶å¤„ç†ï¼Œ<code>mainloop</code>æ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡ï¼Œ<code>helloloop</code>å¤„ç†helloä¿¡æ¯</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">handle_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="n">data</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&#34;utf-8&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;@DATA&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;@HELLO&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">formaddr</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">formaddr</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">hello_dict</span><span class="p">[</span><span class="n">formaddr</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;@JOIN&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">formaddr</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">send_intro</span><span class="p">(</span><span class="n">formaddr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">formaddr</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Join </span><span class="si">{</span><span class="n">formaddr</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;#INTRO&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">formaddr</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">formaddr</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Intro </span><span class="si">{</span><span class="n">formaddr</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>   
</span></span><span class="line"><span class="cl">            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">mainloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;This is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">helloloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">send_hello</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">peer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hello_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">hello_dict</span><span class="p">[</span><span class="n">peer</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">peer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span></span></code></pre></div><ol start="4">
<li>æˆ‘ä»¬è¿›è¡Œç®€å•çš„æµ‹è¯•:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">ip</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;Enter IP address: &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="../../images/image2.png" alt="alt text"></p>
<p>å¼€å¯3ä¸ªç»ˆç«¯å»ºç«‹3ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡ã€‚</p>
<blockquote>
<p>ç§å­èŠ‚ç‚¹è¿™ä¹ˆé‡è¦ï¼Œä¼šä¸ä¼šäº§ç”Ÿä¸­å¿ƒåŒ–ï¼Ÿ</p></blockquote>
<p>æœ‰äººæˆ–è®¸ä¼šè¯´ï¼Œæ¯ä¸ªèŠ‚ç‚¹åˆšå¼€å§‹æ—¶éƒ½è¦é¦–å…ˆå’Œç§å­èŠ‚ç‚¹æ‰“äº¤é“ï¼Œè¿™ä¼šä¸ä¼šè¿èƒŒäº†å»ä¸­å¿ƒåŒ–çš„åˆè¡·ã€‚å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“æ–°èŠ‚ç‚¹æ¥å…¥ç½‘ç»œåï¼Œç§å­èŠ‚ç‚¹å’Œå…¶ä»–èŠ‚ç‚¹å¹¶æ²¡æœ‰åŒºåˆ«ï¼Œå¦‚æœç§å­èŠ‚ç‚¹ç¦»çº¿äº†ä¹Ÿä¸ä¼šå¯¹ç°åœ¨çš„ç½‘ç»œé€ æˆå½±å“ã€‚è€Œæ¥å…¥ç½‘ç»œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®å¤šä¸ªç§å­èŠ‚ç‚¹æ¥å¢åŠ ç¨³å®šæ€§ã€‚ç”šè‡³æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ·»åŠ ç†ŸäººèŠ‚ç‚¹æ¥å¯åŠ¨æ–°èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å…¶ä»–é€”å¾„ï¼Œè·å–æ¥å…¥ç½‘ç»œçš„æŸäº›èŠ‚ç‚¹åœ°å€ï¼Œç”¨å®ƒä»¬æ¥æ›¿ä»£ç§å­èŠ‚ç‚¹ã€‚
åœ¨å®é™…è¿è¡Œçš„åŒºå—é“¾ä¸­ï¼Œè¿™ä¸ªç½‘ç»œä¼šæ›´åŠ å¤æ‚ï¼ŒèŠ‚ç‚¹çš„ç±»å‹ä¹Ÿä¸æ­¢è¿™äº›ã€‚</p>
<p>è¿™ä¸€èŠ‚æˆ‘ä»¬å»ºç«‹äº†å¤šä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠè¿™äº›èŠ‚ç‚¹æ¥å…¥äº†ä¸€ä¸ªp2pç½‘ç»œï¼Œä¸‹é¢æˆ‘ä»¬å°†èŠèŠæ€ä¹ˆè®©è¿™äº›èŠ‚ç‚¹åˆä½œç»´æŠ¤ä¸€ä¸ªåŒºå—é“¾</p>
</div>
    <div class="post__footer">
      
        <span><a class="category" href="/categories/blockchain/">blockchain</a><a class="category" href="/categories/web3/">web3</a></span>


      

      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Chang
        2025
      
    </li>
    
      <li class="footer__item">
        <a
          class="link"
          href="/imprint/"
          
          title=""
        >
          imprint
        </a>
      </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-6W03JJK5LC"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-6W03JJK5LC');
        }
      </script></body>
</html>
